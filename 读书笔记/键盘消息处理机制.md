Android键盘消息是统一由WindowManagerService来管理。

InputManager

InputChannel 输入管道

![](img/inputmanager.png)

扫描码，键盘码

![](img/dispatchkeyevent.png)